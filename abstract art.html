<!doctype html>
<html>
<head>
<title>Responsive Interactive Canvas</title>
<script>
	  var canvas;
	  var context;
	  var shapes = [];
	  var timer;
	  var timerTwo;
	  var timerThree;
	  var possibleShapes = ['diamond','drop', 'star', 'circle', 'triforce'];
	  //Constructor for ALL shapes; can make x and y random at this.x and this.y 
	  function Shape(x, y, color) {
		this.x = x;
		this.y = y;
		this.length = Math.random()*10+10
		this.size = Math.random()*20+5;
		this.dx = Math.random()*4-2;
		this.dy = Math.random()*4-2;
		this.color = color;10+20
		this.radius = Math.random()*20+10
		this.shape = possibleShapes[Math.floor(Math.random()*possibleShapes.length)];
	  }
      function init() {
        canvas = document.getElementById('canvas');
        context = canvas.getContext("2d");
 
        window.addEventListener('resize', resizeCanvas, false);
        window.addEventListener('orientationchange', resizeCanvas, false);
        resizeCanvas();
		canvas.onclick = function(event) {
			handleClick(event.clientX, event.clientY);
		}
		//make resize canvas the redraw timer; get a new canvas every 20 seconds
		func = setInterval(resizeCanvas, 20);
		//draws a new shape evry 200 miliseconds; set a limit within the function itself
		timerTwo = setInterval(newShape, 200);

      }
      //fills shape array with random shapes colors etc; can reuse logic to create random enemy spawn points and random questions for a quiz, etc
	  function newShape() {
		var x = Math.random() * canvas.width;
		var y = Math.random() * canvas.height;
		var colors = ["#ff0000", "#ff4d4d", "#ff4d4d", "#800000","#002db3","#3366ff","#809fff","#00134d""#85e085","#47d147","#1f7a1f","#0f3d0f"];
		var color = colors[Math.floor(Math.random()*colors.length)];
		shapes.push(new Shape(x, y, color));
		}
	 function drawDiamond(diamond){
		context.globalCompositeOperation = 'lighter';
		context.beginPath();
		context.lineTo(diamond.x+(diamond.length), diamond.y-(diamond.length*2));
	    context.lineTo(diamond.x+(diamond.length*2), diamond.y-(diamond.length));
	    
	    context.lineTo(diamond.x+(diamond.length*3), diamond.y-(diamond.length*2));
	    context.lineTo(diamond.x+(diamond.length*2), diamond.y-(diamond.length*4));
	    context.closePath();
	    context.fillStyle = diamond.color;
		context.fill();
	}
	 function drawDrop(drop){
		context.globalCompositeOperation = 'lighter';
		context.beginPath();
		context.moveTo(drop.x, drop.y);
		context.arc(drop.x,drop.y, drop.radius, 0,degreesToRadians(180),true);
		context.lineTo(drop.x+(drop.radius/2),drop.y+drop.radius);
		context.lineTo(drop.x-(drop.radius/2),drop.y+drop.radius);
		context.lineJoin = 'round';
		context.closePath();
		context.fillStyle = drop.color;
		context.fill();
	 	
	}

 	function drawStar(star){
	 	context.globalCompositeOperation = 'lighter';
		context.beginPath();
	    context.moveTo(star.x, star.y);
	    context.lineTo(star.x+(star.length*.2), star.y-(star.length*.4));
	    context.lineTo(star.x+(star.length*.4), star.y);
	    
	    context.lineTo(star.x+(star.length*.6), star.y-(star.length*.6));
	    context.lineTo(star.x+(star.length*.4), star.y-(star.length*.8));
	    
	    context.lineTo(star.x+(star.length/.4), star.y-(star.length*1.6));
	    context.lineTo(star.x+star.length, star.y-(star.length*.8));
	    
	    context.lineTo(star.x-(star.length/.4), star.y-(star.length*1.6));
	    context.lineTo(star.x-star.length, star.y-(star.length*.8));

	    context.lineTo(star.x+(star.length*.6), star.y-(star.length*.6));
	    context.lineTo(star.x+(star.length*.4), star.y-(star.length*.8));
	    
	    context.lineJoin = 'miter';
	    context.closePath();
	    context.fillStyle = star.color;
	    context.fill();
    }
	
	function drawCircle(circle){
		context.globalCompositeOperation = 'lighter';
		context.beginPath();
		context.moveTo(circle.x,circle.y);
		context.arc(circle.x,circle.y, circle.radius, 0,degreesToRadians(360),true);
		context.fillStyle = circle.color;
		context.fill();	
	}

	function drawTriforce(triforce){
		//power
		context.fillStyle="#312801";
		context.beginPath();
		context.moveTo((canvas.width/2)-100,(canvas.height)-350);
		context.lineTo((canvas.width/2),(canvas.height)-450);
		context.lineTo((canvas.width/2)+100,(canvas.height)-350);
		context.closePath();
		context.fill();
		//wisdom
		context.fillStyle="#fbc41a";
		context.beginPath();
		context.moveTo((canvas.width/2)-200,(canvas.height)-250);
		context.lineTo((canvas.width/2)-100,(canvas.height)-350);
		context.lineTo((canvas.width/2),(canvas.height)-250);
		context.closePath();
		context.fill();
		//courage
		context.fillStyle="#a78804";
		context.beginPath();
		context.moveTo((canvas.width/2),(canvas.height)-250);
		context.lineTo((canvas.width/2)+100,(canvas.height)-350);
		context.lineTo((canvas.width/2)+200,(canvas.height)-250);
		context.closePath();
		context.fill();
	}


	function drawText(){
		var textTop = ['Before time began...', 'Din, the goddess of power...', 'Nayru, the goddess of wisdom...', 'Farore, the goddess of courage...','Labors completed, the goddesses departed'];
		var textBottom = ['','Cultivated the land and created the red earth', 'Poured her wisdom onto the earth', 'Produced all life forms who would uphold the law', 'Leaving Golden, Sacred, Triangles'];

		for(var i=0; i<textTop.length; i++){
			context.font = '40px Palatino, serif';            
			context.strokeText(textTop[i], (canvas.width/2)-(canvas.width/3), 100);
			context.fillStyle = 'red';  
			context.fillText(textTop[i], (canvas.width/2)-(canvas.width/3), 100);
		}
		for(var j=0; j<textBottom.length; j++){
				context.font = '40px Palatino, serif';            
				context.strokeText(textBottom[j], (canvas.width/2)-(canvas.width/3), 500);
				context.fillStyle = 'red';  
				context.fillText(textBottom[j], (canvas.width/2)-(canvas.width/3), 500);
		}
	}
	
      function resizeCanvas() {
        canvas.width = window.innerWidth-20;
        canvas.height = window.innerHeight-20;
		fillBackgroundColor();
		//place the shapes in their draw function; takes the chosen value from the array choice and tells it what to mean
		for (var i=0; i<shapes.length; i++) {
			if (shapes[i].shape == 'diamond') {
				drawDiamond(shapes[i]);
			}else if (shapes[i].shape == 'drop') {
				drawDrop(shapes[i]);
			} else if (shapes[i].shape == 'star') {
				drawStar(shapes[i]);
			} else if (shapes[i].shape == 'triforce') {
				drawTriforce(shapes[i]);
			}
			else if (shapes[i].shape == 'circle'){
				drawCircle(shapes[i]);
			}
			//animates shapes! animates shapes relative to a single coordinate; keeps shapes on screen; all values from inital object oriented function
			if (shapes[i].x + shapes[i].dx > canvas.width || shapes[i].x + shapes[i].dx < 0)
				shapes[i].dx = -shapes[i].dx;
			if (shapes[i].y + shapes[i].dy > canvas.height || shapes[i].y + shapes[i].dy < 0)
				shapes[i].dy = -shapes[i].dy;
				shapes[i].x += shapes[i].dx;
				shapes[i].y += shapes[i].dy;
		}
		

		drawText();
		//timerThree = setInterval(drawText, 2000);		 
      }
  
	  function fillBackgroundColor() {
		 //var colors = ["white", "yellow", "blue", "red"];
		 //var bgColor = colors[Math.floor(Math.random() * colors.length)];
		 context.fillStyle = 'black';
		 context.fillRect(0, 0, canvas.width, canvas.height);
	}
	function degreesToRadians(degrees) {
		//converts from degrees to radians and returns
		return (degrees * Math.PI)/180;
	}
	window.onload = init;
</script>
</head>
<body>
<canvas id='canvas' width=500 height=500></canvas>
</body>	  
