<!doctype html>
<html>
<head>
<title>The Legend Concludes</title>
<script>
	  var canvas;
	  var context;
	  var shapes = [];
	  var timer;
	  var timerTwo;
	  var possibleShapes = ['diamond','brain', 'crane', 'fan', 'triforce','words'];
	  function Shape(x, y, color) {
		this.x = (Math.random()*100)+canvas.width/2;
		this.y = (Math.random()*100)+canvas.height/2;
		this.length = Math.random()*10+20;
		this.size = Math.random()*20+5;
		this.dx = Math.random()*4-2;
		this.dy = Math.random()*4-2;
		this.color = color;
		this.radius = Math.random()*20+20;
		this.shape = possibleShapes[Math.floor(Math.random()*possibleShapes.length)];
	  }
      function init() {
        canvas = document.getElementById('canvas');
        context = canvas.getContext("2d");
 
        window.addEventListener('resize', resizeCanvas, false);
        window.addEventListener('orientationchange', resizeCanvas, false);
        resizeCanvas();
		func = setInterval(resizeCanvas, 20);
		timerTwo = setInterval(newShape, 150);

      }
	  function newShape() {
	  	var x = this.x;
	  	var y = this.y;
		var colors = ['#ff0000', '#ff4d4d', '#ff4d4d', '#800000','#002db3','#3366ff','#809fff','#00134d','#85e085','#47d147','#1f7a1f','#0f3d0f'];
		var color = colors[Math.floor(Math.random()*colors.length)];
		shapes.push(new Shape(x, y, color));
		}
		
	function degreesToRadians(degrees) {
		return (degrees * Math.PI)/180;
	}
	 function drawDiamond(diamond){
		context.globalCompositeOperation = 'lighter';
		context.beginPath();
		context.lineTo(diamond.x+(diamond.length), diamond.y-(diamond.length*2));
	    context.lineTo(diamond.x+(diamond.length*2), diamond.y-(diamond.length));
	    
	    context.lineTo(diamond.x+(diamond.length*3), diamond.y-(diamond.length*2));
	    context.lineTo(diamond.x+(diamond.length*2), diamond.y-(diamond.length*4));
	    context.closePath();
	    context.fillStyle = diamond.color;
		context.fill();

	}
	 function drawBrain(brain){
		context.globalCompositeOperation = 'lighter';
		context.beginPath();
		context.moveTo(brain.x, brain.y);
		context.arc(brain.x,brain.y, brain.radius, 0,degreesToRadians(180),true);
		context.lineTo(brain.x+(brain.radius/2),brain.y+brain.radius);
		context.lineTo(brain.x-(brain.radius/2),brain.y+brain.radius);
		context.lineJoin = 'round';
		context.closePath();
		context.fillStyle = brain.color;
		context.fill();
	 	
	}

 	function drawCrane(crane){
	 	context.globalCompositeOperation = 'lighter';
		context.beginPath();
	    context.moveTo(crane.x, crane.y);
	    context.lineTo(crane.x+(crane.length*.2), crane.y-(crane.length*.4));
	    context.lineTo(crane.x+(crane.length*.4), crane.y);
	    
	    context.lineTo(crane.x+(crane.length*.6), crane.y-(crane.length*.6));
	    context.lineTo(crane.x+(crane.length*.4), crane.y-(crane.length*.8));
	    
	    context.lineTo(crane.x+(crane.length/.4), crane.y-(crane.length*1.6));
	    context.lineTo(crane.x+crane.length, crane.y-(crane.length*.8));
	    
	    context.lineTo(crane.x-(crane.length/.4), crane.y-(crane.length*1.6));
	    context.lineTo(crane.x-crane.length, crane.y-(crane.length*.8));

	    context.lineTo(crane.x+(crane.length*.6), crane.y-(crane.length*.6));
	    context.lineTo(crane.x+(crane.length*.4), crane.y-(crane.length*.8));
	    
	    context.lineJoin = 'miter';
	    context.closePath();
	    context.fillStyle = crane.color;
	    context.fill();
	}
	
	function drawFan(fan){
		context.globalCompositeOperation = 'lighter';
		context.beginPath();
		context.moveTo(fan.x,fan.y);
		context.arc(fan.x,fan.y, fan.radius, 0,degreesToRadians(100),false);
		context.fillStyle = fan.color;
		context.fill();	
	}

	function drawTriforce(triforce){
		//power
		context.fillStyle="#312801";
		context.beginPath();
		context.moveTo((canvas.width/2)-200,(canvas.height)-335);
		context.lineTo((canvas.width/2),(canvas.height)-585);
		context.lineTo((canvas.width/2)+200,(canvas.height)-335);
		context.closePath();
		context.fill();
		//wisdom
		context.fillStyle="#fbc41a";
		context.beginPath();
		context.moveTo((canvas.width/2)-400,(canvas.height)-75);
		context.lineTo((canvas.width/2)-200,(canvas.height)-335);
		context.lineTo((canvas.width/2),(canvas.height)-75);
		context.closePath();
		context.fill();
		//courage
		context.fillStyle="#a78804";
		context.beginPath();
		context.moveTo((canvas.width/2),(canvas.height)-75);
		context.lineTo((canvas.width/2)+200,(canvas.height)-335);
		context.lineTo((canvas.width/2)+400,(canvas.height)-75);
		context.closePath();
		context.fill();
	}


function drawWords(words){
	context.font = '15px Palatino, serif';            
	context.strokeText('power', words.x, words.y);
	context.strokeText('wisdom', words.x-30, words.y+15);
	context.strokeText('courage', words.x+25, words.y+15);
	context.fillStyle = '#cc9900';  	
	context.fillText('power', words.x, words.y);
	context.fillText('wisdom', words.x-30, words.y+15);
	context.fillText('courage', words.x+25, words.y+15);
}
	function drawText(){
		context.font = '40px Palatino, serif';            
		context.shadowColor = '#666600';
		context.shadowOffsetX = 2;
		context.shadowOffsetY = 2;
		context.shadowBlur = 5;
		context.strokeText('Labors completed, the goddesses departed', (canvas.width/2)-(canvas.width/4.5), 50);
		context.fillStyle = '#ffff99';  
		context.fillText('Labors completed, the goddesses departed', (canvas.width/2)-(canvas.width/4.5), 50);
		context.font = '40px Palatino, serif';      
		context.strokeText('Leaving Golden, Sacred, Triangles', (canvas.width/2)-(canvas.width/5), 610);
		context.fillStyle = '#ffff99';  
		context.fillText('Leaving Golden, Sacred, Triangles', (canvas.width/2)-(canvas.width/5), 610);
		
	}
	
      function resizeCanvas() {
        canvas.width = window.innerWidth-20;
        canvas.height = window.innerHeight-20;
		fillBackgroundColor();
		for (var i=0; i<shapes.length; i++) {
			if (shapes[i].shape == 'diamond') {
				drawDiamond(shapes[i]);
			}else if (shapes[i].shape == 'brain') {
				drawBrain(shapes[i]);
			} else if (shapes[i].shape == 'crane') {
				drawCrane(shapes[i]);
			} else if (shapes[i].shape == 'triforce') {
				drawTriforce(shapes[i]);
			}else if (shapes[i].shape == 'fan'){
				drawFan(shapes[i]);
			}else if (shapes[i].shape == 'words'){
				drawWords(shapes[i]);}
				shapes[i].x += shapes[i].dx;
				shapes[i].y += shapes[i].dy;
		}
		

		drawText();
		drawTriforce();		 
      }
  
	  function fillBackgroundColor() {
		 context.fillStyle = '#262626';
		 context.fillRect(0, 0, canvas.width, canvas.height);
	}
	window.onload = init;
</script>
</head>
<body>
<canvas id='canvas' width=500 height=500></canvas>
</body>	  
